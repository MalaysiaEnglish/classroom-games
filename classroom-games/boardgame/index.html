<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Travel / Opinions Board Game</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 10px 20px;
      background: #f2f5fa;
    }

    h1 {
      margin-bottom: 4px;
    }

    #layout {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    /* ============================
       MODE TOGGLE
       ============================ */
    #mode-toggle {
      display: flex;
      gap: 8px;
      margin-bottom: 6px;
    }

    .mode-button {
      padding: 6px 12px;
      font-size: 13px;
      border-radius: 999px;
      border: 1px solid #bbb;
      background: #ffffff;
      cursor: pointer;
    }

    .mode-button.active {
      border-color: #1f6feb;
      background: #e6f0ff;
      font-weight: bold;
      box-shadow: 0 0 4px rgba(31,111,235,0.4);
    }

    /* ============================
       SCORE BAR AT TOP
       ============================ */
    #score-bar {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 6px 10px;
      background: #ffffff;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      min-height: 46px;
    }

    #score-label {
      font-weight: bold;
      margin-right: 6px;
    }

    #score-teams {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      flex: 1;
    }

    .score-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 8px;
      border-radius: 999px;
      background: #f0f4ff;
      font-size: 13px;
    }

    .score-color {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      border: 1px solid #555;
    }

    .score-current {
      border: 1px solid #1f6feb;
      box-shadow: 0 0 3px rgba(31,111,235,0.5);
      background: #e6f0ff;
    }

    #add-team {
      padding: 4px 8px;
      font-size: 12px;
      cursor: pointer;
    }

    /* ============================
       MAIN AREA (BOARD + SIDE PANEL)
       ============================ */
    #main-area {
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }

    /* BOARD + CENTRE PANEL */
    #board-area {
      position: relative;
    }

    #board {
      display: grid;
      grid-template-columns: repeat(6, 100px);
      grid-template-rows: repeat(6, 100px);
      gap: 4px;
      background: #ddd;
      padding: 6px;
      border-radius: 8px;
      position: relative;
    }

    .cell {
      position: relative;
      background: #f0f0f0;
      border-radius: 6px;
      padding: 6px;
      font-size: 11px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .active-cell {
      background: #ffffff;
    }

    .cell span.attraction {
      font-weight: bold;
      font-size: 11px;
    }

    .cell span.type-label {
      font-size: 10px;
      opacity: 0.8;
    }

    /* Type colours (used in both modes) */
    .type-1 { background: #d7e9ff; }  /* e.g. guide / opinion */
    .type-2 { background: #daf5d6; }  /* e.g. evaluate / possibility */
    .type-3 { background: #ffe6c7; }  /* e.g. experience / certainty */
    .type-4 { background: #fbe4ff; }  /* prediction */
    .type-5 { background: #e5ffe8; }  /* suggestion */

    /* TOKENS */
    .tokens {
      position: absolute;
      bottom: 4px;
      right: 4px;
      display: flex;
      gap: 3px;
      flex-wrap: wrap;
    }

    .token {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid #ffffff;
      box-shadow: 0 0 2px rgba(0,0,0,0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      color: white;
    }

    .team-1 { background: #ff4b4b; }
    .team-2 { background: #3ba7ff; }
    .team-3 { background: #ffcc00; color: black; }
    .team-4 { background: #4bd35c; }
    .team-5 { background: #a64bff; }

    /* CENTRE PANEL */
    #centre-panel {
      position: absolute;
      top: 110px;
      left: 110px;
      width: 412px;   /* 4×100 + 3×4 */
      height: 412px;
      background: white;
      border-radius: 18px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.18);
      padding: 10px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      overflow: hidden;
      z-index: 2;
    }

    #centre-image {
      width: 100%;
      height: 300px;
      object-fit: cover;
      border-radius: 14px;
      margin-bottom: 10px;
    }

    #centre-name {
      font-size: 18px;
      font-weight: bold;
      margin: 4px 0;
    }

    #centre-type {
      font-size: 13px;
      font-weight: bold;
      opacity: 0.8;
      margin-bottom: 6px;
    }

    #centre-description {
      font-size: 13px;
      padding: 0 6px;
    }

    /* ============================
       SIDE PANEL (DICE + PROMPT)
       ============================ */
    #side-panel {
      width: 260px;
      background: #ffffff;
      border-radius: 8px;
      padding: 10px 12px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.12);
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    #turn-section,
    #prompt-box,
    #stems-box {
      border-radius: 6px;
      border: 1px solid #e0e6f0;
      padding: 8px;
      background: #f9fbff;
    }

    #turn-section h3,
    #prompt-box h3,
    #stems-box h3 {
      margin-top: 0;
      margin-bottom: 6px;
      font-size: 15px;
    }

    button {
      padding: 6px 10px;
      font-size: 13px;
      margin-right: 6px;
      margin-bottom: 4px;
      cursor: pointer;
    }

    #dice-result,
    #status {
      font-size: 13px;
      margin-top: 4px;
    }

    /* SVG DICE */
    #dice-display {
      width: 70px;
      height: 70px;
      margin-top: 6px;
    }

    #teacher-scoring {
      margin-top: 6px;
      padding-top: 6px;
      border-top: 1px solid #d0d7e0;
    }

    #teacher-scoring-label {
      font-size: 12px;
      opacity: 0.7;
      margin-bottom: 4px;
    }

    #winner {
      margin-top: 4px;
      font-weight: bold;
      color: #c0392b;
    }

    #stems-list {
      margin-top: 4px;
      padding-left: 16px;
      font-size: 13px;
    }

    @media (max-height: 800px) {
      body {
        margin: 6px 16px;
      }
    }
  </style>
</head>

<body>
  <h1>Board Game: Travel Writing & Expressing Opinions</h1>
  <p style="margin-top:0;">
    Choose a mode, roll the dice, move your token, and speak using the target language for that square.
  </p>
<a href="../index.html"
   style="
     position: fixed;
     top: 20px;
     right: 20px;
     padding: 10px 18px;
     background: #222;
     color: white;
     text-decoration: none;
     border-radius: 6px;
     font-size: 1em;
     font-weight: bold;
     box-shadow: 0 4px 10px rgba(0,0,0,0.3);
     z-index: 9999;
   ">
  ⬅ Back
</a>  <div id="layout">

    <!-- ============================
         MODE TOGGLE
         ============================ -->
    <div id="mode-toggle">
      <button id="mode-travel" class="mode-button active">Travel Writing</button>
      <button id="mode-opinion" class="mode-button">Expressing Opinions</button>
    </div>

    <!-- ============================
         SCORE BAR
         ============================ -->
    <div id="score-bar">
      <span id="score-label">Teams & Points:</span>
      <div id="score-teams"></div>
      <button id="add-team">Add Team</button>
    </div>

    <!-- ============================
         MAIN AREA
         ============================ -->
    <div id="main-area">

      <!-- BOARD + CENTRE PANEL -->
      <div id="board-area">
        <div id="board"></div>

        <div id="centre-panel">
          <img id="centre-image" src="" alt="">
          <div id="centre-name">No place yet</div>
          <div id="centre-type"></div>
          <div id="centre-description">
            Choose a mode, add teams, then roll the dice. When a team lands on a place, the picture and task will appear here.
          </div>
        </div>
      </div>

      <!-- SIDE PANEL -->
      <div id="side-panel">

        <div id="turn-section">
          <h3>Turn & Dice</h3>

          <button id="roll-dice">Roll Dice</button>
          <div id="dice-display"></div>
          <div id="dice-result"></div>
          <div id="status"></div>

          <div id="teacher-scoring">
            <div id="teacher-scoring-label">Teacher Scoring:</div>
            <button id="correct">+1 Point</button>
            <button id="no-point">No Point</button>
          </div>

          <button id="reset-game">Reset Game</button>
          <div id="winner"></div>
        </div>

        <div id="prompt-box">
          <h3>Current Task</h3>
          <div id="prompt-text">
            No move yet. Click "Roll Dice" to start.
          </div>
        </div>

        <div id="stems-box">
          <h3>Sentence Starters</h3>
          <ul id="stems-list">
            <li>Roll the dice to see your sentence task.</li>
          </ul>
        </div>

      </div>
    </div>
  </div>

  <script>
    /* ============================
       PATH AROUND THE BOARD
       ============================ */
    const pathIndexes = [
      0, 1, 2, 3, 4, 5,
      11, 17, 23, 29, 35,
      34, 33, 32, 31, 30,
      24, 18, 12, 6
    ];

    /* ============================
       ATTRACTION DATA
       ============================ */
    const baseAttractions = [
      { name: "Petronas Towers", image: "images/petronas.jpg", description: "Iconic twin towers in KL." },
      { name: "Legoland Malaysia", image: "images/legoland.jpg", description: "Colourful rides and LEGO fun." },
      { name: "Disneyland Tokyo", image: "images/disneyland_tokyo.jpg", description: "A magical Disney adventure." },
      { name: "Langkawi Beach", image: "images/langkawi_beach.jpg", description: "Soft sand and clear water." },
      { name: "Genting Highlands", image: "images/genting.jpg", description: "Cool mountain theme park." },
      { name: "KLCC Park", image: "images/klcc_park.jpg", description: "Relaxing park in the city." },
      { name: "Universal Studios SG", image: "images/universal_singapore.jpg", description: "Movie-themed rides and shows." },
      { name: "Melaka Historic City", image: "images/melaka.jpg", description: "UNESCO heritage and culture." },
      { name: "Batu Caves", image: "images/batu_caves.jpg", description: "Temple inside limestone caves." },
      { name: "Sunway Lagoon", image: "images/sunway_lagoon.jpg", description: "Water slides and theme park fun." },
      { name: "Great Wall of China", image: "images/great_wall.jpg", description: "Ancient wonder across mountains." },
      { name: "Eiffel Tower", image: "images/eiffel.jpg", description: "Paris landmark with great views." },
      { name: "Penang Street Art", image: "images/penang_street_art.jpg", description: "Interactive murals in Georgetown." },
      { name: "Aquaria KLCC", image: "images/aquaria.jpg", description: "Sharks, rays and sea creatures." },
      { name: "Floating Market", image: "images/floating_market.jpg", description: "Busy riverside shopping." },
      { name: "Marina Bay Sands", image: "images/marina_bay.jpg", description: "Luxury hotel with rooftop pool." },
      { name: "Taj Mahal", image: "images/taj_mahal.jpg", description: "Marble monument of love." },
      { name: "Tokyo Skytree", image: "images/tokyo_skytree.jpg", description: "Tall tower with observation deck." },
      { name: "Checkpoint", image: "images/finish.jpg", description: "A moment to reflect on your journey." }
    ];

    /* ============================
       MODE DEFINITIONS
       ============================ */

    const MODES = {
      travel: {
        id: "travel",
        label: "Travel Writing",
        types: [
          { id: "guide", key: "type-1", label: "Guide", description: "Give information and advice about this place." },
          { id: "evaluate", key: "type-2", label: "Evaluate", description: "Say what is good or bad about this place." },
          { id: "experience", key: "type-3", label: "Experience", description: "Describe your feelings or an experience here." }
        ],
        stems: {
          guide: [
            "You can visit this place to...",
            "It is located in...",
            "There are many things to do here, such as..."
          ],
          evaluate: [
            "I think this place is...",
            "The best thing about this place is...",
            "However, one problem with this place is..."
          ],
          experience: [
            "I felt... when I was here because...",
            "I remember... at this place.",
            "It was exciting because..."
          ]
        }
      },

      opinion: {
        id: "opinion",
        label: "Expressing Opinions",
        types: [
          { id: "opinion", key: "type-1", label: "Opinion", description: "Give your personal opinion about this place." },
          { id: "possibility", key: "type-2", label: "Possibility", description: "Use might / may / could to talk about this place." },
          { id: "certainty", key: "type-3", label: "Certainty", description: "Use must / can't / bound to / chances are." },
          { id: "prediction", key: "type-4", label: "Prediction", description: "Make a prediction using will / won't / should." },
          { id: "suggestion", key: "type-5", label: "Suggestion", description: "Give advice using should / could / ought to." }
        ],
        stems: {
          opinion: [
            "I think...",
            "In my opinion...",
            "Personally, I feel...",
            "As far as I'm concerned..."
          ],
          possibility: [
            "It might be...",
            "He could be...",
            "They may want to..."
          ],
          certainty: [
            "He must be...",
            "She can't be...",
            "It's bound to...",
            "Chances are..."
          ],
          prediction: [
            "It will probably...",
            "She won't...",
            "They should..."
          ],
          suggestion: [
            "They should...",
            "You could...",
            "Politicians ought to..."
          ]
        }
      }
    };

    /* ============================
       GAME STATE
       ============================ */
    const maxTeams = 5;
    let teams = [];
    let currentTeamIndex = 0;
    const pointsToWin = 10;

    let currentMode = MODES.travel;
    let pathCells = [];

    const teamColors = ["team-1", "team-2", "team-3", "team-4", "team-5"];

    /* ============================
       DOM ELEMENTS
       ============================ */
    const boardEl = document.getElementById("board");
    const scoreTeamsEl = document.getElementById("score-teams");
    const addTeamBtn = document.getElementById("add-team");

    const modeTravelBtn = document.getElementById("mode-travel");
    const modeOpinionBtn = document.getElementById("mode-opinion");

    const rollBtn = document.getElementById("roll-dice");
    const correctBtn = document.getElementById("correct");
    const noPointBtn = document.getElementById("no-point");
    const resetBtn = document.getElementById("reset-game");

    const diceDisplayEl = document.getElementById("dice-display");
    const diceResultEl = document.getElementById("dice-result");
    const statusEl = document.getElementById("status");
    const promptTextEl = document.getElementById("prompt-text");
    const stemsListEl = document.getElementById("stems-list");
    const winnerEl = document.getElementById("winner");

    const centreImageEl = document.getElementById("centre-image");
    const centreNameEl = document.getElementById("centre-name");
    const centreTypeEl = document.getElementById("centre-type");
    const centreDescriptionEl = document.getElementById("centre-description");

    /* ============================
       SVG DICE
       ============================ */
    function renderDiceFace(value) {
      const size = 70;
      const r = 5;

      const pip = (x, y) =>
        `<circle cx="${x}" cy="${y}" r="5" fill="black" />`;

      const center = size / 2;
      const offset = 18;
      const leftX = center - offset;
      const rightX = center + offset;
      const topY = center - offset;
      const bottomY = center + offset;

      let pips = "";

      switch (value) {
        case 1:
          pips += pip(center, center);
          break;
        case 2:
          pips += pip(leftX, topY) + pip(rightX, bottomY);
          break;
        case 3:
          pips += pip(leftX, topY) + pip(center, center) + pip(rightX, bottomY);
          break;
        case 4:
          pips += pip(leftX, topY) + pip(rightX, topY) +
                  pip(leftX, bottomY) + pip(rightX, bottomY);
          break;
        case 5:
          pips += pip(leftX, topY) + pip(rightX, topY) +
                  pip(center, center) +
                  pip(leftX, bottomY) + pip(rightX, bottomY);
          break;
        case 6:
          pips += pip(leftX, topY) + pip(rightX, topY) +
                  pip(leftX, center) + pip(rightX, center) +
                  pip(leftX, bottomY) + pip(rightX, bottomY);
          break;
      }

      const svg = `
        <svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}">
          <rect x="3" y="3" width="${size - 6}" height="${size - 6}"
                rx="${r}" ry="${r}"
                fill="white" stroke="#333" stroke-width="3" />
          ${pips}
        </svg>
      `;

      diceDisplayEl.innerHTML = svg;
    }

    function animateDiceRoll(finalValue, callback) {
      diceDisplayEl.style.transition = "transform 0.4s ease";
      diceDisplayEl.style.transform = "rotate(360deg)";

      const tempValue = Math.floor(Math.random() * 6) + 1;
      renderDiceFace(tempValue);

      setTimeout(() => {
        diceDisplayEl.style.transition = "none";
        diceDisplayEl.style.transform = "rotate(0deg)";
        renderDiceFace(finalValue);
        if (callback) callback();
      }, 400);
    }

    /* ============================
       RANDOMISATION ENGINE
       ============================ */
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function randomTypeId(previous1, previous2) {
      const typeIds = currentMode.types.map(t => t.id);
      let available = typeIds;

      // Anti-streak: if last two are the same, avoid it
      if (previous1 && previous2 && previous1 === previous2) {
        available = typeIds.filter(id => id !== previous1);
      }

      return available[Math.floor(Math.random() * available.length)];
    }

    function generateRandomBoard() {
      const shuffled = shuffle([...baseAttractions]);
      const cells = [];

      // Start
      cells.push({
        name: "Start",
        typeId: currentMode.types[0].id, // just treat as neutral
        image: "images/start.jpg",
        description: "Begin your journey!"
      });

      for (let i = 0; i < shuffled.length; i++) {
        const prev1 = cells[i]?.typeId;
        const prev2 = cells[i - 1]?.typeId;
        const typeId = randomTypeId(prev1, prev2);

        cells.push({
          name: shuffled[i].name,
          typeId,
          image: shuffled[i].image,
          description: shuffled[i].description
        });
      }

      return cells;
    }

    function getTypeMeta(typeId) {
      return currentMode.types.find(t => t.id === typeId);
    }

    /* ============================
       BUILD BOARD
       ============================ */
    function initBoard() {
      boardEl.innerHTML = "";

      for (let i = 0; i < 36; i++) {
        const cell = document.createElement("div");
        cell.classList.add("cell");
        cell.dataset.index = i;

        const attrName = document.createElement("span");
        attrName.classList.add("attraction");

        const typeLabel = document.createElement("span");
        typeLabel.classList.add("type-label");

        const tokensContainer = document.createElement("div");
        tokensContainer.classList.add("tokens");
        tokensContainer.id = "tokens-" + i;

        const pathPos = pathIndexes.indexOf(i);
        if (pathPos !== -1) {
          cell.classList.add("active-cell");
          const data = pathCells[pathPos];

          attrName.textContent = data.name;

          const meta = getTypeMeta(data.typeId) || currentMode.types[0];
          typeLabel.textContent = meta.label;

          cell.classList.add(meta.key);
        }

        cell.appendChild(attrName);
        cell.appendChild(typeLabel);
        cell.appendChild(tokensContainer);
        boardEl.appendChild(cell);
      }
    }

    /* ============================
       SCORE BAR RENDERING
       ============================ */
    function renderScoreBar() {
      scoreTeamsEl.innerHTML = "";

      teams.forEach((team, idx) => {
        const pill = document.createElement("div");
        pill.classList.add("score-pill");
        if (idx === currentTeamIndex) pill.classList.add("score-current");

        const colorDot = document.createElement("div");
        colorDot.classList.add("score-color", team.colorClass);

        const textSpan = document.createElement("span");
        textSpan.textContent = team.name + ": " + team.score;

        pill.appendChild(colorDot);
        pill.appendChild(textSpan);
        scoreTeamsEl.appendChild(pill);
      });
    }

    /* ============================
       TOKENS
       ============================ */
    function renderTokens() {
      for (let i = 0; i < 36; i++) {
        const container = document.getElementById("tokens-" + i);
        if (container) container.innerHTML = "";
      }

      teams.forEach(team => {
        const boardIndex = pathIndexes[team.pathPos];
        const container = document.getElementById("tokens-" + boardIndex);
        if (container) {
          const token = document.createElement("div");
          token.classList.add("token", team.colorClass);
          token.textContent = team.id;
          container.appendChild(token);
        }
      });
    }

    /* ============================
       TEAMS
       ============================ */
    function addTeam() {
      if (teams.length >= maxTeams) {
        alert("Maximum of " + maxTeams + " teams reached.");
        return;
      }
      const num = teams.length + 1;
      const newTeam = {
        id: num,
        name: "Team " + num,
        colorClass: teamColors[teams.length],
        pathPos: 0,
        score: 0
      };
      teams.push(newTeam);
      renderScoreBar();
      renderTokens();
      updateStatus();
    }

    /* ============================
       MODE SWITCHING
       ============================ */
    function setMode(mode) {
      currentMode = mode;

      // toggle button styles
      modeTravelBtn.classList.toggle("active", mode.id === "travel");
      modeOpinionBtn.classList.toggle("active", mode.id === "opinion");

      // full reset
      teams = [];
      currentTeamIndex = 0;
      pathCells = generateRandomBoard();
      initBoard();
      renderScoreBar();
      renderTokens();
      renderDiceFace(1);
      diceResultEl.textContent = "";
      winnerEl.textContent = "";
      stemsListEl.innerHTML = "<li>Roll the dice to see your sentence task.</li>";
      centreImageEl.src = "";
      centreNameEl.textContent = "No place yet";
      centreTypeEl.textContent = "";
      centreDescriptionEl.textContent =
        "Choose a mode, add teams, then roll the dice. When a team lands on a place, the picture and task will appear here.";
      promptTextEl.textContent = "No move yet. Click \"Roll Dice\" to start.";
      updateStatus();
    }

    /* ============================
       STEMS + CENTRE PANEL
       ============================ */
    function updateStems(typeId) {
      const stemsConfig = currentMode.stems[typeId] || [];
      stemsListEl.innerHTML = "";
      stemsConfig.forEach(text => {
        const li = document.createElement("li");
        li.textContent = text;
        stemsListEl.appendChild(li);
      });
    }

    function updateCentreDisplay(cellData) {
      centreImageEl.src = cellData.image || "";
      centreNameEl.textContent = cellData.name;
      const meta = getTypeMeta(cellData.typeId) || currentMode.types[0];
      centreTypeEl.textContent = meta.label;
      centreDescriptionEl.textContent = meta.description;
    }

    /* ============================
       ROLL DICE + MOVEMENT
       ============================ */
    function rollDice() {
      if (teams.length === 0) {
        alert("Add at least one team to start.");
        return;
      }
      winnerEl.textContent = "";

      const team = teams[currentTeamIndex];
      const roll = Math.floor(Math.random() * 6) + 1;

      animateDiceRoll(roll, () => {
        diceResultEl.textContent = team.name + " rolled a " + roll + ".";

        team.pathPos = (team.pathPos + roll) % pathCells.length;

        const cellData = pathCells[team.pathPos];
        const meta = getTypeMeta(cellData.typeId) || currentMode.types[0];

        promptTextEl.textContent =
          team.name + " landed on: " + cellData.name + ". " + meta.description;

        updateStems(cellData.typeId);
        updateCentreDisplay(cellData);

        renderTokens();
        renderScoreBar();
        updateStatus();
      });
    }

    /* ============================
       SCORING
       ============================ */
    function givePoint() {
      if (teams.length === 0) return;
      const team = teams[currentTeamIndex];
      team.score += 1;
      checkWinner();
      nextTurn();
    }

    function noPoint() {
      if (teams.length === 0) return;
      nextTurn();
    }

    function nextTurn() {
      if (teams.length === 0) return;
      currentTeamIndex = (currentTeamIndex + 1) % teams.length;
      renderScoreBar();
      updateStatus();
      diceResultEl.textContent = "";
    }

    function checkWinner() {
      const winner = teams.find(t => t.score >= pointsToWin);
      if (winner) {
        winnerEl.textContent = winner.name + " wins with " + winner.score + " points!";
      }
    }

    /* ============================
       RESET GAME (same mode)
       ============================ */
    function resetGame() {
      teams.forEach(team => {
        team.pathPos = 0;
        team.score = 0;
      });
      currentTeamIndex = 0;

      pathCells = generateRandomBoard();
      initBoard();

      diceResultEl.textContent = "";
      statusEl.textContent = "";
      winnerEl.textContent = "";
      promptTextEl.textContent = "No move yet. Click \"Roll Dice\" to start.";
      stemsListEl.innerHTML = "<li>Roll the dice to see your sentence task.</li>";

      centreImageEl.src = "";
      centreNameEl.textContent = "No place yet";
      centreTypeEl.textContent = "";
      centreDescriptionEl.textContent =
        "Choose a mode, add teams, then roll the dice. When a team lands on a place, the picture and task will appear here.";

      renderTokens();
      renderScoreBar();
      updateStatus();
    }

    /* ============================
       STATUS
       ============================ */
    function updateStatus() {
      if (teams.length === 0) {
        statusEl.textContent = "No teams yet. Click 'Add Team' to join the game.";
      } else {
        statusEl.textContent = "Current turn: " + teams[currentTeamIndex].name;
      }
    }

    /* ============================
       EVENT LISTENERS
       ============================ */
    addTeamBtn.addEventListener("click", addTeam);
    rollBtn.addEventListener("click", rollDice);
    correctBtn.addEventListener("click", givePoint);
    noPointBtn.addEventListener("click", noPoint);
    resetBtn.addEventListener("click", resetGame);

    modeTravelBtn.addEventListener("click", () => setMode(MODES.travel));
    modeOpinionBtn.addEventListener("click", () => setMode(MODES.opinion));

    /* ============================
       INIT
       ============================ */
    pathCells = generateRandomBoard();
    initBoard();
    renderDiceFace(1);
    updateStatus();
  </script>
</body>
</html>